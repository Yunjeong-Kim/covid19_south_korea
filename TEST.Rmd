---
title: "COVID19_SouthKorea"
runtime: shiny
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    source_code: embed
    theme: flatly
---

```{r setup, include=FALSE}
library(readr)
library(flexdashboard)
library(shiny)
library(leaflet)
library(dplyr)
urlfile= "https://raw.githubusercontent.com/Yunjeong-Kim/covid19_south_korea/master/COVID19_screening_centers.csv"
korean <- read_csv(url(urlfile), locale = locale(date_names = "he", encoding = "UTF-8"))

#define sigungu
korean$sigungu <- as.factor(korean$sigungu)
korean$sido <- as.factor(korean$sido)
singunguname <- levels(korean$sigungu)
sidoname <- levels(korean$sido)

```

Sidebar {.sidebar}
=========================================================
```{r}

# define inputs
selectInput("sido", label = "Sido", choices = sidoname)
selectInput("sigungu", label = "Sigungu", choices = singunguname)
```

Maps
===========================================================
```{r}
```
-----------------------------------

```{r}
# filter the data to the selected region/district

filtereddata <- reactive({
        filter(korean, sido == input$sido)
        })

# Draw the map that shows the testing center
renderLeaflet({
        leaflet(filtereddata()) %>%
        addProviderTiles("CartoDB.Positron") %>%
       addMarkers(lng = ~lon, lat = ~lat, popup = paste("Center Name:", korean$centername, "<br>", "Address:", korean$address, "<br>", "Telephone:" ,korean$telephone))
  
})


# click event(testing center) for the map
# will generate detailed infor of the testing center

click_tract <- eventReactive(input$map_tile_click,{
        
}
                             
)
```

Graphs
===========================================================
